# arXiv Messaging Subscriptions
# New subscription model allows multiple delivery methods per user
subscribers:
  # devnull user - immediate email notifications with retry
  - subscription_id: "devnull-email"
    user_id: "devnull"
    email_address: "nt385@cornell.edu"
    delivery_method: "email"
    aggregation_frequency: "immediate"
    aggregation_method: "plain"
    delivery_error_strategy: "retry"
    enabled: true
    delivery_time: "09:00"
    timezone: "UTC"

  # ntai user - daily email with HTML format
  - subscription_id: "ntai-email"  
    user_id: "ntai"
    email_address: "ntai@arxiv.org"
    delivery_method: "email"
    aggregation_frequency: "hourly"
    aggregation_method: "HTML"
    delivery_error_strategy: "retry"
    enabled: true
    delivery_time: "00:00"
    timezone: "UTC"

  # ntai user - also wants immediate Slack notifications (ignore failures)
  - subscription_id: "ntai-slack"
    user_id: "ntai"
    delivery_method: "slack"
    aggregation_frequency: "immediate"
    aggregation_method: "plain"
    delivery_error_strategy: "ignore"
    enabled: true
    delivery_time: "00:00"
    timezone: "UTC"
    slack_webhook_url: "https://hooks.slack.com/triggers/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"

  - subscription_id: "sync-to-gcp-slack-2100"
    user_id: "sync-to-gcp-2230"
    delivery_method: "slack"
    aggregation_frequency: "daily"
    aggregation_method: "plain"
    delivery_error_strategy: "retry"
    enabled: true
    delivery_time: "22:30"
    timezone: "America/New_York"
    slack_webhook_url: "https://hooks.slack.com/triggers/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"

  - subscription_id: "sync-to-gcp-email"
    user_id: "sync-to-gcp-daily"
    email_address: "ntai@arxiv.org"
    delivery_method: "email" 
    aggregation_method: "HTML"
    aggregation_frequency: "daily"
    delivery_error_strategy: "retry"
    enabled: true
    delivery_time: "09:00"
    timezone: "America/New_York"
